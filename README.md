# Asset-No-1 팀프로젝트

## 목차

1. [팀 소개](#팀-소개)
2. [프로젝트 개요](#프로젝트-개요)
3. [사용한 기술 스택](#사용한-기술-스택)
4. [기능 소개](#기능-소개)
5. [요구사항 정의서](#요구사항-정의서)
6. [설치 및 사용법](#설치-및-사용법)
7. [기여](#기여)
8. [참고](#참고)

## 팀 소개

**팀 이름**: Asset-No-1  
**의미**: 미래 자산 1조를 담은 의미의 팀 이름입니다.

<img src="https://github.com/user-attachments/assets/54c8f2f6-5f6e-4c1c-a738-3f6077eaaeb5" alt="자산 1조 이미지" width="350" />

### 예비 1조 클럽 명단

| 이름     | 역할            |
|:--------:|:---------------:|
| 함선우   | PM(Project Manager) |
| 김동욱   | TL(Tech Leader)     |
| 임영인   | GM(Geometry Manager) |
| 김도현   | AC(Agile Coach)      |

## 프로젝트 개요

### 주제

사내 채팅 및 영화 정보 검색 챗봇 기능이 가능한 업무용 메신저 개발

### 선정 배경

1. **사내 기술 유출 우려**: 사내 정보 보호를 위한 커뮤니케이션 툴의 필요성
2. **부적절 및 부정한 메시지 감찰**: 감사팀이 사내 메신저의 대화 내용을 모니터링할 수 있도록 하기 위함

## 사용한 기술 스택

- ![Apache Kafka](https://img.shields.io/badge/Apache%20Kafka-000000?style=flat&logo=apache-kafka&logoColor=white): 실시간 데이터 스트리밍 및 메시징 시스템
- ![Apache Spark](https://img.shields.io/badge/Apache%20Spark-E25A1C?style=flat&logo=apache-spark&logoColor=white): 대규모 데이터 처리 및 분석
- ![Apache Airflow](https://img.shields.io/badge/Apache%20Airflow-017E9A?style=flat&logo=apache-airflow&logoColor=white): 워크플로우 오케스트레이션 및 스케줄링 
- ![Apache Zeppelin](https://img.shields.io/badge/Apache%20Zeppelin-006400?style=flat&logo=apache-zeppelin&logoColor=white): 데이터 시각화 및 분석

## 기능 소개

1. **업무 대화 기능**:
   - 사용자는 실시간으로 업무 관련 대화를 주고받을 수 있습니다.

2. **시스템 챗봇 기능**:
   - Airflow의 성공적인 작업 완료 여부를 확인할 수 있는 챗봇 기능을 제공합니다.

3. **영화 챗봇 기능**:
   - 채팅방에 `@영화제목`을 입력하면 해당 영화에 대한 정보를 제공하는 기능을 갖추고 있습니다.

4. **업무 대화 감사 기능**:
   - 채팅방에서 오고간 대화 내용을 저장하고, 통계를 생성하여 Zeppelin을 통해 시각화합니다.

## 요구사항 정의서

### 프로필

| **요구사항 ID** | **구분**        | **요구사항 설명**            | **중요도** | **난이도** | **구현 상태** |
|:---------------:|:---------------:|:----------------------------:|:----------:|:----------:|:-------------:|
| PR-01          | Username 설정   | 사용자의 이름을 설정합니다.   | 필수       | 하         | O             |

### 업무 대화 기능

| **요구사항 ID** | **구분**         | **요구사항 설명**                   | **중요도** | **난이도** | **구현 상태** |
|:---------------:|:----------------:|:------------------------------------:|:----------:|:----------:|:-------------:|
| CT-01          | 메세지 보내기    | 사용자가 채팅방에 메세지를 보냅니다.   | 필수       | 중         | O             |
| CT-02          | 메세지 받기      | 상대방이 보낸 메세지를 받습니다.       | 필수       | 하         | O             |
| CT-03          | 메세지 시간 표시 | 메세지를 보낸 시간을 표시합니다.       | 필수       | 중         | O             |

### 감사 기능


| **요구사항 ID** | **구분**                | **요구사항 설명**                                                | **중요도** | **난이도** | **구현 상태** |
|:---------------:|:-----------------------:|:----------------------------------------------------------------:|:----------:|:----------:|:-------------:|
| AU-01          | 채팅 내역 저장           | 채팅 내역을 json 파일로 저장합니다.                               | 필수       | 상         | O             |
| AU-02          | 특정 단어 사용 횟수      | 사용자 별로 특정 단어(비방, 욕설) 사용 횟수를 통계합니다.        | 필수       | 중         | △             |
| AU-03          | 시간대 별 채팅 통계      | 시간대 별로 채팅량을 통계합니다.                                  | 필수       | 중         | △             |
| AU-04          | 시간 단어 통계           | 활발했던 시간에 가장 많이 쓰인 단어를 통계합니다.                 | 선택       | 중         | X             |

### 영화 챗봇 기능

| **요구사항 ID** | **구분**          | **요구사항 설명**                                               | **중요도** | **난이도** | **구현 상태** |
|:---------------:|:-----------------:|:---------------------------------------------------------------:|:----------:|:----------:|:-------------:|
| MV-01          | 영화 정보 검색    | "@영화제목"을 입력하면 해당 영화 정보를 출력합니다.              | 필수       | 중         | O             |

### 시스템 알람 기능

| **요구사항 ID** | **구분**      | **요구사항 설명**                                                | **중요도** | **난이도** | **구현 상태** |
|:---------------:|:-------------:|:----------------------------------------------------------------:|:----------:|:----------:|:-------------:|
| AL-01          | 성공 알람     | Airflow task가 성공 시 Line에 success 알람이 전송됩니다.           | 필수       | 중         | O             |
| AL-02          | 실패 알람     | Airflow task가 실패 시 Line에 fail 알람이 전송됩니다.              | 필수       | 중         | O             |

### 일정 챗봇 기능

| **요구사항 ID** | **구분**         | **요구사항 설명**                                            | **중요도** | **난이도** | **구현 상태** |
|:---------------:|:----------------:|:------------------------------------------------------------:|:----------:|:----------:|:-------------:|
| SC-01          | 시간 알람        | 지정한 시간이 되면 알람이 전송됩니다.                        | 선택       | 하         | X             |

## 설치 및 사용법

### 사전 요구사항
- `python 3.8` 이상이 설치되어 있어야 합니다.
- `java`가 설치되어 있어야 합니다.
- `kafka-python`이 설치되어 있어야 합니다.

```python
pip install kafka-python
```

- [Apache Airflow](https://airflow.apache.org/docs/apache-airflow/stable/start.html)가 설치되어 있어야 합니다.
- [Apache Kafka](https://www.apache.org/dyn/closer.cgi?path=/kafka/3.8.0/kafka_2.13-3.8.0.tgz)가 설치되어 있어야 합니다.
- movie data가 사전에 있어야 합니다.

1. 리포지토리를 클론합니다:
```bash
git clone https://github.com/asset-No-1/airflow_chat.git
```

2. 에어플로우에 접속한 후, "movie_chat" dags를 실행시킵니다.

3. 경로에 파일이 제대로 저장되었는지 확인합니다.

### 채팅 애플리케이션 실행
- 리포지토리를 클론합니다:

```bash
https://github.com/asset-No-1/teamchat.git
```

- Kafka가 설치된 경로로 이동하여 Zookeeper와 Kafka를 실행합니다:
1. Zookeeper 실행

```bash
bin/zookeeper-server-start.sh -daemon config/zookeeper.properties
```

2. Kafka 실행

```bash
bin/kafka-server-start.sh -daemon config/server.properties
```

- 실행파일에서 서버주소를 수정합니다:

```bash
vi src/teamchat/api/chat3.py
```

```python
bootstrap_servers=['서버주소 입력:9092']
```

- 애플리케이션을 시작합니다:

```bash
python src/teamchat/api/chat3.py
```

### 사용법

1. 사용자는 [사용자 이름]을 입력 후 채팅방을 참여합니다.
2. 채팅방에서 메시지를 입력하고 실시간으로 팀원들과 소통할 수 있습니다.
3. 채팅방에서 '@'를 입력 후 영화제목을 입력하면 영화 상세정보를 확인할 수 있습니다.
4. `chat3.py`에서 `topic` 을 다르게 하면 새로운 채팅방에서 대화를 할 수 있습니다. (default topic = Product)

## 기여

이 프로젝트는 팀원들이 협력하여 기술적 문제를 해결하고, 사내 커뮤니케이션의 효율성을 높이는 동시에 기술 유출 방지와 부적절 메시지 감찰을 위한 강력한 도구를 만드는 데 기여했습니다.

## 참고

프로젝트 관련 코드
- Team Reposit: [바로가기](https://github.com/asset-No-1/teamchat)
